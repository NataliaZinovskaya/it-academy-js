const GENRE="../data/genre.json",RADIO="../data/radio.json",getResource=async e=>{const t=await fetch(e);if(!t.ok)throw new Error("Error code "+t.status);return t.json()},getAllGenre=async()=>(await getResource(GENRE)).data.map(_transformGenre).slice(1,10),_transformGenre=e=>({title:e.name,picture:e.picture}),getAllRadio=async()=>(await getResource(RADIO)).data.map(_transformRadio),_transformRadio=e=>({title:e.title}),createGenreList=async()=>{const e=await getAllGenre(),t=await getAllRadio();e.forEach((e,r)=>{document.querySelector(".icons__play").innerHTML+=`\n        <li class="genre">\n          <div> <img src="${e.picture}" alt="genre-pic"> </div>\n          <p>${e.title}</p>\n          <ul class="radio__list hide"></ul>\n        </li>`;let a=e,i=r;t.forEach(e=>{let t=document.querySelectorAll(".radio__list");console.log(t),a.title===e.title&&(t[i].innerHTML+=`\n            <li>\n              <p>${e.title}</p>\n            </li>`)})}),document.querySelectorAll(".genre").forEach(e=>{e.addEventListener("click",()=>{e.querySelector(".radio__list").classList.toggle("hide")})})};createGenreList();